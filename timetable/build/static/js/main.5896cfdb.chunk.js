(this.webpackJsonptimetable=this.webpackJsonptimetable||[]).push([[0],{143:function(e,t,a){e.exports=a(268)},268:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(32),i=a.n(l),c=a(57),m=a(15),o=a(274),s=a(275),u=a(277),d=a(121),g=a(80),E=a(276),f=a(84);function p(e){var t=new Date;t.setTime(e),console.trace(t);var a=String(t.getSeconds()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0"),i=String(t.getMonth()+1).padStart(2,"0");return{date:t.getFullYear()+"-"+i+"-"+l,time:r+":"+n+":"+a}}var h=function(e){var t=e.leg.from.name,a="Origin"===t?"Home":t,n=p(e.leg.startTime).time.slice(0,-3),l=e.leg.to.name,i="Destination"===l?"Office":l,c=p(e.leg.endTime).time.slice(0,-3),m=e.leg.mode,o="WALK"===m?"Walk to":"BUS"===m?r.a.createElement(f.a,{name:"bus",color:"blue"}):"SUBWAY"===m?r.a.createElement(f.a,{name:"subway",color:"orange"}):m;return r.a.createElement(u.a.Group,{className:"leg",horizontal:!0,raised:!0},r.a.createElement(u.a,{className:"from",textAlign:"center"}," ",a,r.a.createElement("br",null),n," "),r.a.createElement(u.a,{className:"mode",textAlign:"center"}," ",o," "),r.a.createElement(u.a,{className:"to",textAlign:"center"}," ",i," ",r.a.createElement("br",null),c))};function v(){var e=Object(d.a)(["\n  query Plan($date: String, $time: String, ){\n    plan(\n      date: $date,\n      time: $time\n      from: {lat: ",", lon: ","}\n      to: {lat: ",", lon: ","}\n      numItineraries: 3\n    ) {\n      itineraries {\n        startTime\n        duration\n        legs {\n          from {\n            name\n          }\n          startTime\n          to {\n            name\n          }\n          endTime\n          mode\n          route {\n            shortName\n          }\n          \n        }\n      }\n    }\n  }\n"]);return v=function(){return e},e}var b=60.161042,y=24.878615,S=60.169429,k=24.926066,w=Object(c.b)(v(),b,y,S,k);var N=function(e){var t=p(e.date),a=Object(g.a)(w,{variables:{date:t.date,time:t.time}}),n=a.loading,l=a.error,i=a.data;return n?r.a.createElement("p",null,"Loading..."):l?r.a.createElement("p",null,"Error :("):r.a.createElement(o.a,{className:"planContainer",id:"plan"},i.plan.itineraries.map((function(e){return r.a.createElement(u.a,null,r.a.createElement(E.a,{className:"itinerary",key:e.startTime,verticalAlign:"middle",columns:2,style:{background:"#cceaff"}},r.a.createElement(E.a.Column,{width:14,stretched:"true"},r.a.createElement(E.a,{className:"itinerary-legs"},e.legs.map((function(e){return r.a.createElement(E.a.Column,{width:5,stretched:"true",verticalAlign:"middle"},r.a.createElement(h,{key:e.startTime.valueOf(),leg:e,style:{padding:"1em"}}))})))),r.a.createElement(E.a.Column,{width:2},r.a.createElement(u.a,{className:"itinerary-duration",stretched:!0},r.a.createElement(s.a,{as:"h4","data-testid":"duration"},(t=e.duration,Math.ceil(t/60)),"min")))));var t})))};var A=function(e){var t=p(e.date).time.slice(0,-3),a=p(function(e,t){return e+6e4*t}(e.date,12.5)).time.slice(0,-3);return r.a.createElement(o.a,null,r.a.createElement(s.a,{as:"h3"},"Feeling frisky? Take a bike."),r.a.createElement(u.a.Group,{horizontal:!0},r.a.createElement(u.a,{textAlign:"center"},"Home",r.a.createElement("br",null),t),r.a.createElement(u.a,{textAlign:"center"},r.a.createElement(f.a,{name:"bicycle",size:"large"})),r.a.createElement(u.a,{textAlign:"center"},"Office",r.a.createElement("br",null),a)))};var T=function(){var e=(new Date).getTime();return r.a.createElement(o.a,{className:"InfoScreen",style:{margin:"2em"}},r.a.createElement(s.a,{as:"h1"},"Get-to-Work!"),r.a.createElement(u.a,{className:"plan",style:{background:"#a6abff"}},r.a.createElement(N,{date:e})),r.a.createElement(u.a,{className:"bike-plan",style:{background:"#cceaff"}},r.a.createElement(A,{date:e})))},x=new c.a({uri:"https://api.digitransit.fi/routing/v1/routers/hsl/index/graphql"}),O=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,{client:x},r.a.createElement(T,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[143,1,2]]]);
//# sourceMappingURL=main.5896cfdb.chunk.js.map