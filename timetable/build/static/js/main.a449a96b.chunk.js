(this.webpackJsonptimetable=this.webpackJsonptimetable||[]).push([[0],{146:function(e,t,a){e.exports=a(273)},273:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),i=a.n(l),c=a(44),m=a(15),o=a(279),s=a(280),u=a(281),d=a(122),g=a(82),E=a(282),f=a(87);function p(e){var t=new Date;t.setTime(e),console.trace(t);var a=String(t.getSeconds()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0"),i=String(t.getMonth()+1).padStart(2,"0");return{date:t.getFullYear()+"-"+i+"-"+l,time:r+":"+n+":"+a}}var h=a(123),v=a(124);var b=function(e){var t=e.leg.from.name,a="Origin"===t?"Home":t,n=p(e.leg.startTime).time.slice(0,-3),l=e.leg.to.name,i="Destination"===l?"University":l,c=p(e.leg.endTime).time.slice(0,-3),m=e.leg.mode,o="WALK"===m?r.a.createElement(h.a,{icon:v.a}):"BUS"===m?r.a.createElement(f.a,{name:"bus",color:"blue"}):"SUBWAY"===m?r.a.createElement(f.a,{name:"subway",color:"orange"}):m;return r.a.createElement(u.a.Group,{className:"leg",horizontal:!0,raised:!0},r.a.createElement(u.a,{className:"from",textAlign:"center"}," ",a,r.a.createElement("br",null),n," "),r.a.createElement(u.a,{className:"mode",textAlign:"center"}," ",o," "),r.a.createElement(u.a,{className:"to",textAlign:"center"}," ",i," ",r.a.createElement("br",null),c))};function y(){var e=Object(d.a)(["\n  query Plan($date: String, $time: String, ){\n    plan(\n      date: $date,\n      time: $time\n      from: {lat: ",", lon: ","}\n      to: {lat: ",", lon: ","}\n      numItineraries: 3\n    ) {\n      itineraries {\n        startTime\n        duration\n        legs {\n          from {\n            name\n          }\n          startTime\n          to {\n            name\n          }\n          endTime\n          mode\n          route {\n            shortName\n          }\n          \n        }\n      }\n    }\n  }\n"]);return y=function(){return e},e}var S=60.161042,w=24.878615,k=60.186237,N=24.828348,A=Object(c.b)(y(),S,w,k,N);var T=function(e){var t=p(e.date),a=Object(g.a)(A,{variables:{date:t.date,time:t.time}}),n=a.loading,l=a.error,i=a.data;return n?r.a.createElement("p",null,"Loading..."):l?r.a.createElement("p",null,"Error :("):r.a.createElement(o.a,{className:"planContainer",id:"plan"},i.plan.itineraries.map((function(e){return r.a.createElement(u.a,null,r.a.createElement(E.a,{className:"itinerary",key:e.startTime,verticalAlign:"middle",columns:2,style:{background:"#cceaff"}},r.a.createElement(E.a.Column,{width:14,stretched:"true"},r.a.createElement(E.a,{className:"itinerary-legs"},e.legs.map((function(e){return r.a.createElement(E.a.Column,{width:5,stretched:"true",verticalAlign:"middle"},r.a.createElement(b,{key:e.startTime.valueOf(),leg:e,style:{padding:"1em"}}))})))),r.a.createElement(E.a.Column,{width:2},r.a.createElement(u.a,{className:"itinerary-duration",stretched:!0},r.a.createElement(s.a,{as:"h4","data-testid":"duration"},(t=e.duration,Math.ceil(t/60)),"min")))));var t})))};var x=function(e){var t=p(e.date).time.slice(0,-3),a=p(function(e,t){return e+6e4*t}(e.date,12.5)).time.slice(0,-3);return r.a.createElement(o.a,null,r.a.createElement(s.a,{as:"h3"},"Feeling frisky? Take a bike."),r.a.createElement(u.a.Group,{horizontal:!0},r.a.createElement(u.a,{textAlign:"center"},"Home",r.a.createElement("br",null),t),r.a.createElement(u.a,{textAlign:"center"},r.a.createElement(f.a,{name:"bicycle",size:"large"})),r.a.createElement(u.a,{textAlign:"center"},"University",r.a.createElement("br",null),a)))};var C=function(){var e=(new Date).getTime();return r.a.createElement(o.a,{className:"InfoScreen",style:{margin:"2em"}},r.a.createElement(s.a,{as:"h1"},"Get-to-Class!"),r.a.createElement(u.a,{className:"plan",style:{background:"#a6abff"}},r.a.createElement(T,{date:e})),r.a.createElement(u.a,{className:"bike-plan",style:{background:"#cceaff"}},r.a.createElement(x,{date:e})))},O=new c.a({uri:"https://api.digitransit.fi/routing/v1/routers/hsl/index/graphql"}),$=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,{client:O},r.a.createElement(C,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[146,1,2]]]);
//# sourceMappingURL=main.a449a96b.chunk.js.map